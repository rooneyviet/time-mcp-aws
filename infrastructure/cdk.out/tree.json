{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.214.0"},"children":{"TimeMcpStack":{"id":"TimeMcpStack","path":"TimeMcpStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"TimeMcpUserPool":{"id":"TimeMcpUserPool","path":"TimeMcpStack/TimeMcpUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"schema":[{"name":"email","mutable":true,"required":true}],"smsVerificationMessage":"The verification code to your new account is {####}","usernameConfiguration":{"caseSensitive":false},"userPoolName":"time-mcp-user-pool","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}}}},"TimeMcpUserPoolClient":{"id":"TimeMcpUserPoolClient","path":"TimeMcpStack/TimeMcpUserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpUserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"time-mcp-client","explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_ADMIN_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"TimeMcpUserPoolAD0D3E97"}}}}}},"LambdaWebAdapterLayer":{"id":"LambdaWebAdapterLayer","path":"TimeMcpStack/LambdaWebAdapterLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"TimeMcpHandler":{"id":"TimeMcpHandler","path":"TimeMcpStack/TimeMcpHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TimeMcpStack/TimeMcpHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TimeMcpStack/TimeMcpHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"TimeMcpStack/TimeMcpHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"TimeMcpStack/TimeMcpHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"TimeMcpStack/TimeMcpHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["x86_64"],"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"6edc73ba64ce6118d502aa4a8278a17fe88643b00aea2065b73487065a41c390.zip"},"environment":{"variables":{"AWS_LAMBDA_EXEC_WRAPPER":"/opt/bootstrap","RUST_LOG":"info","DEFAULT_TIMEZONE":"Asia/Tokyo","PORT":"8080"}},"handler":"run.sh","layers":["arn:aws:lambda:us-east-1:753240598075:layer:LambdaAdapterLayerX86:25"],"role":{"Fn::GetAtt":["TimeMcpHandlerServiceRole192D442B","Arn"]},"runtime":"nodejs20.x","timeout":180}}}}},"TimeMcpApi":{"id":"TimeMcpApi","path":"TimeMcpStack/TimeMcpApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpApi","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"corsConfiguration":{"allowCredentials":false,"allowHeaders":["Content-Type","Authorization"],"allowMethods":["GET","POST","DELETE","OPTIONS"],"allowOrigins":["*"],"maxAge":86400},"description":"Time MCP Server HTTP API","name":"time-mcp-api","protocolType":"HTTP"}}},"DefaultRoute":{"id":"DefaultRoute","path":"TimeMcpStack/TimeMcpApi/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.214.0","metadata":[]},"children":{"TimeMcpLambdaIntegration":{"id":"TimeMcpLambdaIntegration","path":"TimeMcpStack/TimeMcpApi/DefaultRoute/TimeMcpLambdaIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpApi/DefaultRoute/TimeMcpLambdaIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"TimeMcpApi4385CDEC"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["TimeMcpHandlerA3756F10","Arn"]},"payloadFormatVersion":"2.0"}}}}},"TimeMcpLambdaIntegration-Permission":{"id":"TimeMcpLambdaIntegration-Permission","path":"TimeMcpStack/TimeMcpApi/DefaultRoute/TimeMcpLambdaIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["TimeMcpHandlerA3756F10","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"TimeMcpApi4385CDEC"},"/*/*"]]}}}},"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpApi/DefaultRoute/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"TimeMcpApi4385CDEC"},"authorizationType":"JWT","authorizerId":{"Ref":"TimeMcpApiTimeMcpAuthorizerA03DF7B4"},"routeKey":"$default","target":{"Fn::Join":["",["integrations/",{"Ref":"TimeMcpApiDefaultRouteTimeMcpLambdaIntegrationD2019929"}]]}}}}}},"TimeMcpAuthorizer":{"id":"TimeMcpAuthorizer","path":"TimeMcpStack/TimeMcpApi/TimeMcpAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpAuthorizer","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpApi/TimeMcpAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnAuthorizer","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Authorizer","aws:cdk:cloudformation:props":{"apiId":{"Ref":"TimeMcpApi4385CDEC"},"authorizerType":"JWT","identitySource":["$request.header.Authorization"],"jwtConfiguration":{"audience":[{"Ref":"TimeMcpUserPoolClient919406B1"}],"issuer":{"Fn::Join":["",["https://cognito-idp.us-east-1.amazonaws.com/",{"Ref":"TimeMcpUserPoolAD0D3E97"}]]}},"name":"TimeMcpAuthorizer"}}}}},"DefaultStage":{"id":"DefaultStage","path":"TimeMcpStack/TimeMcpApi/DefaultStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpStage","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpApi/DefaultStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"TimeMcpApi4385CDEC"},"autoDeploy":true,"stageName":"$default"}}}}},"GET--health":{"id":"GET--health","path":"TimeMcpStack/TimeMcpApi/GET--health","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.214.0","metadata":[]},"children":{"HealthCheckIntegration":{"id":"HealthCheckIntegration","path":"TimeMcpStack/TimeMcpApi/GET--health/HealthCheckIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpApi/GET--health/HealthCheckIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"TimeMcpApi4385CDEC"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["TimeMcpHandlerA3756F10","Arn"]},"payloadFormatVersion":"2.0"}}}}},"HealthCheckIntegration-Permission":{"id":"HealthCheckIntegration-Permission","path":"TimeMcpStack/TimeMcpApi/GET--health/HealthCheckIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["TimeMcpHandlerA3756F10","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"TimeMcpApi4385CDEC"},"/*/*/health"]]}}}},"Resource":{"id":"Resource","path":"TimeMcpStack/TimeMcpApi/GET--health/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"TimeMcpApi4385CDEC"},"authorizationType":"JWT","authorizerId":{"Ref":"TimeMcpApiTimeMcpAuthorizerA03DF7B4"},"routeKey":"GET /health","target":{"Fn::Join":["",["integrations/",{"Ref":"TimeMcpApiGEThealthHealthCheckIntegration145471B7"}]]}}}}}}}},"UserPoolId":{"id":"UserPoolId","path":"TimeMcpStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"TimeMcpStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"ApiUrl":{"id":"ApiUrl","path":"TimeMcpStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"McpEndpoint":{"id":"McpEndpoint","path":"TimeMcpStack/McpEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"HealthEndpoint":{"id":"HealthEndpoint","path":"TimeMcpStack/HealthEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"Region":{"id":"Region","path":"TimeMcpStack/Region","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"TimeMcpStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"TimeMcpStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"TimeMcpStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"TimeMcpStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}